<!DOCTYPE html>
<html lang="<%= lang %>" class="notranslate" translate="no">

<head>
	<meta name="google" content="notranslate">
	<!-- Required meta tags -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta data-name="confirm_remove_cheese_text" content="<%= dict[lang].confirm_remove_cheese_text %>">
	<link rel="icon" type="image/x-icon" href="/static/images/MSE_1_32x32.png">
	<title><%= dict[lang].archive_page_title %> | <%= dict[lang].application_name %></title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" onerror="this.onerror=null;this.removeAttribute('integrity');this.href='/static/css/cached/bootstrap.min.css';">
	<link rel="stylesheet" href="/static/css/normalize.css">
	<link rel="stylesheet" href="/static/css/style_2.css">

    <%- include('barion_pixel_base') %>
</head>

<body>

	<%- include('header_authenticated') %>

	<main class="container-fluid">
		<%- include('feedback') %>

		<div class="container col-xxl-4 col-xl-5 col-lg-6 col-sm-12 col-12">

            <div class="col-12 h3 mb-3 fw-normal">
                <%= dict[lang].archive_heading %>
            </div>

			<% if((locals?.archived_cheeses?.length ?? 0) === 0){ %>
			<div class="text-center"><%= dict[lang].no_archived_cheeses_text %></div>
			<% } else if(Array.isArray(locals?.archived_cheeses)) { %>

			<% for(let cheese of archived_cheeses){ %>

			<div class="card mb-3">

				<div class="card-body ">

					<h5><%= cheese?.product_name ?? "" %></h5>

					<div class="row mb-3 aligncenter">
						<div class="col-6 fw-bold"><%= dict[lang].cheese_id_prefix %></div>
						<div class="col-6"><%= cheese?.public_id ?? "" %></div>
					</div>

					<div class="row mb-3 aligncenter">
						<div class="col-6 fw-bold"><%= dict[lang].cheese_category_prefix %></div>
						<div class="col-6">
							<div><%= dict[lang][cheese?.product_category_list?.[0] ?? null] ?? "" %></div>
							<div><%= dict[lang][cheese?.product_category_list?.at?.(-1) ?? null] ?? "" %></div>
						</div>
					</div>

					<div class="row justify-content-space-between text-center aligncenter">
						<div class="col">

							<form action="/view_archived_cheese" method="GET">
								<input type="hidden" name="public_id" value="<%= cheese?.public_id ?? "" %>">
								<input class="btn btn-sm btn-primary" type="submit" value="<%= dict[lang].view_cheese_button_text %>">
							</form>

						</div>

					</div>

				</div>

			</div>

			<% } %>
			<% } %>

	</main>

	<%- include('footer') %>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous" onerror="this.onerror=null;this.removeAttribute('integrity');this.href='/static/scripts/cached/bootstrap.bundle.min.js';"></script>
</body>
</htmml>