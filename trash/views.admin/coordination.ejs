<!DOCTYPE html>
<html lang="hu">

<head>
	<!-- Required meta tags -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Verseny koordináció | Admin</title>
	<link rel="icon" type="image/x-icon" href="/assets/css/MSE_1_32x32.png">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" href="/assets/css/style_2.css">

	<script src="/assets/scripts/coordination/script.js" defer></script>
</head>

<body>
	<%- include('header') %>
	<!--div -->
	<main class="text-center">
		<div class="col-12 h3 mb-3 fw-normal">
			Sajtverseny koordináció
		</div>

		<%- include('feedback') %>

		<% if(typeof entry_opened !== 'undefined' && typeof entry_open_time !== 'undefined' && entry_opened){ %>
		<div style="font-size: larger; font-weight: bold; color: green">Nevezés megnyitva</div>
		<div>
			<div>Nevezés utoljára megnyitva ekkor:</div>
			<div>
				<%= `${entry_open_time.getFullYear()}` %>.<%= `${entry_open_time.getMonth() + 1}`.padStart(2, '0') %>.<%= `${entry_open_time.getDate()}`.padStart(2, '0') %>.
				<%= `${entry_open_time.getHours()}`.padStart(2, '0') %>:<%= `${entry_open_time.getMinutes()}`.padStart(2, '0') %>:<%= `${entry_open_time.getSeconds()}`.padStart(2, '0') %>
			</div>

		</div>
		<% } %>
		<% if(typeof entry_opened !== 'undefined' && typeof entry_close_time !== 'undefined' && !entry_opened){ %>
		<div style="font-size: larger; font-weight: bold; color: red">Nevezés lezárva</div>

		<div>
			<div>Nevezés utoljára lezárva ekkor:</div>
			<div>
				<%= `${entry_close_time.getFullYear()}` %>.<%= `${entry_close_time.getMonth() + 1}`.padStart(2, '0') %>.<%= `${entry_close_time.getDate()}`.padStart(2, '0') %>.
				<%= `${entry_close_time.getHours()}`.padStart(2, '0') %>:<%= `${entry_close_time.getMinutes()}`.padStart(2, '0') %>:<%= `${entry_close_time.getSeconds()}`.padStart(2, '0') %>
			</div>

		</div>

		<% } %>
		<div><a href="/open_entry" class="col-10 btn btn-primary <%if(typeof entry_opened !== 'undefined' && entry_opened){%>disabled<%}%>">Nevezés megnyitása</a></div>
            <div><a href="/close_entry" class="col-10 btn btn-primary <%if(typeof entry_opened === 'undefined' || !entry_opened){%>disabled<%}%>">Nevezés lezárása</a></div>

            <br><br>

            
            <% if(typeof competition_opened !== 'undefined' && typeof competition_open_time !== 'undefined' && competition_opened){ %>
                <div style=" font-size: larger; font-weight: bold; color: green">Verseny megnyitva</div>
		<div>
			<div>Verseny utoljára megnyitva ekkor:</div>
			<div>
				<%= `${competition_open_time.getFullYear()}` %>.<%= `${competition_open_time.getMonth() + 1}`.padStart(2, '0') %>.<%= `${competition_open_time.getDate()}`.padStart(2, '0') %>.
				<%= `${competition_open_time.getHours()}`.padStart(2, '0') %>:<%= `${competition_open_time.getMinutes()}`.padStart(2, '0') %>:<%= `${competition_open_time.getSeconds()}`.padStart(2, '0') %>
			</div>
		</div>
		<% } %>


		<% if(typeof competition_opened !== 'undefined' && typeof competition_close_time !== 'undefined' && !competition_opened){ %>
		<div style="font-size: larger; font-weight: bold; color: red">Verseny lezárva</div>
		<div>
			<div>Verseny utoljára lezárva ekkor:</div>
			<div>
				<%= `${competition_close_time.getFullYear()}` %>.<%= `${competition_close_time.getMonth() + 1}`.padStart(2, '0') %>.<%= `${competition_close_time.getDate()}`.padStart(2, '0') %>.
				<%= `${competition_close_time.getHours()}`.padStart(2, '0') %>:<%= `${competition_close_time.getMinutes()}`.padStart(2, '0') %>:<%= `${competition_close_time.getSeconds()}`.padStart(2, '0') %>
			</div>
		</div>
		<% } %>

		<div><a href="/open_competition" class="col-10 btn btn-primary <%if(typeof competition_opened !== 'undefined' && competition_opened){%>disabled<%}%>">Verseny megnyitása</a></div>
            <div><a href="/close_competition" class="col-10 btn btn-primary <%if(typeof competition_opened === 'undefined' || !competition_opened){%>disabled<%}%>">Verseny lezárása</a></div>
            <br><br>
            
            <div>
                <% if(typeof competition_reset_time !== 'undefined'){ %>
                <div>Utoljára alaphelyzetbe állítva ekkor:</div>
                <div>
                    <%= `${competition_reset_time.getFullYear()}` %>.<%= `${competition_reset_time.getMonth() + 1}`.padStart(2, '0') %>.<%= `${competition_reset_time.getDate()}`.padStart(2, '0') %>.
                    <%= `${competition_reset_time.getHours()}`.padStart(2, '0') %>:<%= `${competition_reset_time.getMinutes()}`.padStart(2, '0') %>:<%= `${competition_reset_time.getSeconds()}`.padStart(2, '0') %>
                </div>
                <% } else { %>
                    A verseny még nem volt alaphelyzetbe állítva.
                <% } %>
            </div>
            <form action=" /reset_competition" class="reset_competition_form" method="GET">
				<input class="col-10 btn btn-danger" type="submit" value="Alaphelyzetbe állítás">
				</form>

				<div style="font-size: larger; font-weight: bold;">Csak akkor használható, ha a verseny és a nevezés is le van zárva.</div>
				<div style="font-size: larger; font-weight: bold; color: red">Minden aktuális nevezést és eredményt archivál, azaz ezek csak az archívum menüpontból lesznek elérhetőek.</div>
				<div style="font-size: larger; font-weight: bold; color: red">Nem visszaállítható!</div>

	</main>
	<!--/div-->

	<%- include('footer') %>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>

</html>